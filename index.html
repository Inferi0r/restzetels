<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-RTCSP63MWM"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-RTCSP63MWM');
    </script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9473143074028298" crossorigin="anonymous"></script>
<title>Zetels - realtime ANP</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav>
        <ul>
            <div class="nav-center">
                <li><a class="active" href="index.html">Zetels</a></li>
                <li><a href="stemcijfers.html">Stemcijfers</a></li>
                <li><a href="anpupdates.html">ANP Updates</a></li>
                <li><a href="nosupdates.html">NOS Updates</a></li>
            </div>
            <li class="right-controls">
              <span id="soundWrap" class="sound-wrap">
                <span class="tooltip">
                  <button id="soundToggle" class="sound-button">ðŸ”‡</button>
                  <span class="tooltiptext">Wordt geÃ¯nformeerd als stemmen binnenkomen of zetels wijzigen</span>
                </span>
                <button id="soundPrompt" class="sound-prompt" style="display:none;">Geluid inschakelen</button>
              </span>
              <span id="completedBadge" class="info-badge" style="display:none;"></span>
              <select id="yearSelect" class="year-select" aria-label="Kies verkiezingsjaar"></select>
            </li>
        </ul>
</nav>
    <!-- NOS latest updates ticker -->
    <div id="nosTickerContainer" class="ticker-container" aria-label="Laatste NOS updates"></div>
    
    <div id="latestRestSeatImpactContainer"></div>
    <div id="impactShareBar" class="share-bar" aria-label="Deel restzetelstatus">
      <button id="impactShareX" class="share-btn" type="button" aria-label="Deel op Twitter">
        <svg class="icon" viewBox="0 0 16 16" aria-hidden="true"><path d="M3 2l10 12M13 2L3 14" stroke="#111" stroke-width="2" fill="none" stroke-linecap="round"/></svg>
        <span>Twitter</span>
      </button>
      <button id="impactShareWA" class="share-btn" type="button" aria-label="Deel via WhatsApp">
        <svg class="icon wa-icon" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M20.5 3.5c-2.2-2.2-5.1-3.4-8.2-3.4C5.7.1 1 4.8 1 10.7c0 1.9.5 3.7 1.3 5.3L1 23l7.1-1.9c1.5.8 3.2 1.2 4.9 1.2 5.9 0 10.6-4.7 10.6-10.6 0-3-1.2-6-3.4-8.2zM13 20.3c-1.5 0-3-.4-4.3-1.1l-.3-.2-4.2 1.1 1.1-4.1-.2-.3c-.7-1.3-1.1-2.7-1.1-4.2 0-4.8 3.9-8.7 8.7-8.7 2.3 0 4.5.9 6.1 2.5 1.6 1.6 2.5 3.8 2.5 6.1 0 4.8-3.9 8.7-8.7 8.7zm4.3-6.7c-.2-.1-1.1-.5-1.3-.6-.2-.1-.4-.1-.6.1l-.5.5c-.1.1-.3.1-.5.1-1-.5-1.9-1.2-2.7-2-.8-.8-1.5-1.7-2-2.7 0-.2 0-.4.1-.5l.5-.5c.2-.2.2-.4.1-.6-.1-.2-.5-1.1-.6-1.3-.1-.2-.3-.3-.6-.3h-.5c-.2 0-.5.1-.7.3-.8.8-1.2 1.9-1.1 3.1 0 1.3.8 2.6.9 2.8.2.3 1.8 2.9 4.5 4.1.6.3 1.2.5 1.8.6.2 0 .3 0 .5 0 .3 0 .6-.1.8-.3.1-.1.2-.2.3-.4.1-.2.1-.3.1-.4 0-.1 0-.3-.1-.4-.1-.2-.5-.3-.7-.4z" fill="currentColor"/>
        </svg>
        <span>WhatsApp</span>
      </button>
      <button id="impactShareWeb" class="share-btn" type="button" aria-label="Algemeen delen">
        <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M12 3v10m0-10l-4 4m4-4l4 4" stroke="#111" stroke-width="2" fill="none" stroke-linecap="round"/>
          <rect x="4" y="11" width="16" height="10" rx="2" ry="2" stroke="#111" stroke-width="2" fill="none"/>
        </svg>
        <span>Deel</span>
      </button>
    </div>
    <h1 class="title-enhanced">Zetelverdeling</h1>
    <!-- legacy inline NOS update removed; ticker shows latest updates -->
    <div id="seatsSummaryContainer"></div>

    <div class="flex-container">
        <div class="flex-item">
            <div class="seatstrip-tooltip">
              <h2 class="title-enhanced">Stemgemiddelde per restzetel</h2>
              <div id="seatStripTooltip" class="seatstrip-panel"></div>
            </div>
            <div id="voteAverageContainer"></div>
        </div>
    </div>
    <!-- Include unified scripts -->
   <script src="js/config.js" defer></script>
   <script src="js/year-nav.js" defer></script>
   <script src="js/sound.js" defer></script>
   <script src="js/data.js" defer></script>
   <script src="js/ticker.js" defer></script>
   <script src="js/ui.js" defer></script>
   <script src="js/auto_refresh.js" defer></script>
   <script src="js/app.js" defer></script>

   <script>
        window.addEventListener('DOMContentLoaded', function(){
          function loadYearData(year) { RestzetelsApp.loadZetels(year); }
          if (window.YearNav && window.Sound && window.AutoRefresh) {
            YearNav.init({ load: loadYearData });
            Sound.init();
            AutoRefresh.init({ load: loadYearData });
          } else {
            // In case defer/load order varies, retry shortly
            const t = setInterval(function(){
              if (window.YearNav && window.Sound && window.AutoRefresh) {
                clearInterval(t);
                YearNav.init({ load: loadYearData });
                Sound.init();
                AutoRefresh.init({ load: loadYearData });
              }
            }, 10);
          }
        });
    </script>



</body>
</html>
