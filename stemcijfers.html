<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <script src="js/metrics.js" defer></script>
    <title>Stemcijfers</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav>
        <ul>
            <div class="nav-center">
                <li><a href="index.html">Zetels</a></li>
                <li><a class="active" href="stemcijfers.html">Stemcijfers</a></li>
                <li><a href="anpupdates.html">ANP Updates</a></li>
                <li><a href="nosupdates.html">NOS Updates</a></li>
            </div>
            <li class="right-controls">
              <span id="completedBadge" class="info-badge" style="display:none;"></span>
              <select id="yearSelect" class="year-select" aria-label="Kies verkiezingsjaar"></select>
            </li>
        </ul>
    </nav>
    <div id="metaCards" class="meta-cards"></div>
    <h2 class="title-enhanced">Statistieken ANP</h2>
    <div id="statsTableContainer"></div>

    <h1 class="title-enhanced">Stemmen</h1>

    <div id="tableContainer"></div>

    <!-- Include unified scripts -->
   <script src="js/config.js" defer></script>
   <script src="js/year-nav.js" defer></script>
   <script src="js/data.js" defer></script>
   <script src="js/ui.js" defer></script>
   <script src="js/auto_refresh.js" defer></script>
   <script src="js/stemcijfers.js" defer></script>

    <script>
        window.addEventListener('DOMContentLoaded', function(){
          function loadYearData(year) { StemcijfersApp.loadStemcijfers(year); }
          if (window.YearNav && window.AutoRefresh) {
            YearNav.init({ load: loadYearData });
            AutoRefresh.init({ load: loadYearData });
          } else {
            const t = setInterval(function(){
              if (window.YearNav && window.AutoRefresh) {
                clearInterval(t);
                YearNav.init({ load: loadYearData });
                AutoRefresh.init({ load: loadYearData });
              }
            }, 10);
          }
        });
    </script>
</body>
</html>
